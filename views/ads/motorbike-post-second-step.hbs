<div class="upFormPost">
  <form class="formPostCar" action="/publicar-anuncio/{{categoryId}}{{ad.category}}" method="POST" enctype="multipart/form-data">
    <div class="containerFieldset">
    <div class="fieldsetLeft">
    <fieldset class="fieldsetPost">
      <div class="brandAndModel">
        <div class="brandForm">
          <label for="field4"><span>Marca <span class="required">*</span></span>
            <select id="selectBrand" name="brand" class="select-field">
              {{#select ad.brand }}
                <option value="">Elige Marca</option>
                <option value="100">Aprilia</option>
                <option value="101">Benelli</option>
                <option value="102">Beta</option>
                <option value="103">Bimota</option>
                <option value="104">BMW</option>
                <option value="106">Bultaco</option>
                <option value="107">Cagiva</option>
                <option value="108">Daelim</option>
                <option value="109">Derbi</option>
                <option value="110">Ducati</option>
                <option value="111">Gasgas</option>
                <option value="112">Gilera</option>
                <option value="113">Hanway</option>
                <option value="114">Harley Davidson</option>
                <option value="115">Honda</option>
                <option value="116">Husaberg</option>
                <option value="117">Husqvarna</option>
                <option value="118">Hyosung</option>
                <option value="119">Italjet</option>
                <option value="120">Kawasaki</option>
                <option value="121">Keeway</option>
                <option value="122">KTM</option>
                <option value="123">Kymco</option>
                <option value="124">Lambretta</option>
                <option value="125">Laverda</option>
                <option value="126">Malaguti</option>
                <option value="127">MBK</option>
                <option value="128">Montesa</option>
                <option value="129">Moto Guzzi</option>
                <option value="130">Motor Hispania</option>
                <option value="131">MV Agusta</option>
                <option value="132">Ossa</option>
                <option value="133">Peugeot</option>
                <option value="134">Piaggio</option>
                <option value="135">Puch</option>
                <option value="136">Renault</option>
                <option value="137">Rieju</option>
                <option value="138">Royal Enfield</option>
                <option value="139">Sherco</option>
                <option value="140">Siam</option>
                <option value="141">Suzuki</option>
                <option value="142">Sym</option>
                <option value="143">TGB</option>
                <option value="144">Triumph</option>
                <option value="145">Vespa</option>
                <option value="146">Vespino</option>
                <option value="147">Yamaha</option>
              {{/select}}
            </select>
          </label>
      {{errors.brand}}
      </div>
        <div class="ModelForm">
          <label for="field1"><span>Modelo <span class="required">*</span></span>
            <input maxlength="40" minlength="1" class="inputModel" type="text" class="input-field" name="carmodel" value="{{ad.carmodel}}"/>
          </label>
            {{errors.carmodel}}
        </div>
      </div>
      <div class="ccKmYearColor">
          <div class="engineForm">
            <label for="field3" id="yearKm">
              <span id="spanPostYearKm">cc</span>
                <input oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                maxlength = "4" id="inputPostYearKm" type="number" class="input-field" name="engine" value="{{ad.engine}}"/>
                  {{errors.engine}} 
            </label>
          </div>
           
          <div class="kmForm">
            <label for="field3" id="yearKm">
              <span id="spanPostYearKm">Km</span>
                <input oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                maxlength = "7" id="inputPostYearKm" type="number" class="input-field" name="km" value="{{ad.km}}"/>
                    {{errors.km}}
            </label>
          </div>
          <div class="yearForm"> 
            <label for="field3" id="yearKm">
              <span id="spanPostYearKm">Año</span>
                <input oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                maxlength = "4" id="inputPostYearKm" type="number" class="input-field" name="year" value="{{ad.year}}"/>
                  {{errors.year}}
            </label>
          </div>
          <div class="colorForm">
            <label for="field3" id="yearKm">
              <span id="spanPostYearKm">Color</span>
                <input maxlength="40" minlength="1" id="inputPostYearKm" type="text" class="input-field" name="color" value="{{ad.color}}"/>
                  {{errors.color}}
            </label>
          </div>
      </div>
      <div class="descriptionFrom">
        <label for="field6"><span>Descripción <span class="descriptionMaxChar"> (máx. 510 caracteres) </span><span class="required">*</span></span>
          <textarea maxlength="510" minlength="1" rows="6" name="description" id="textAreaForm" class="textarea-field textAreaForm">{{ad.description}}</textarea>
        </label>
          {{errors.description}}
      </div>
      </fieldset>
      </div>
      <div class="fieldsetRight">
      <fieldset class="fieldsetPost">
         <div class="vendorForm">
           <div class="firsVendor">
          <label for="field4">
            <div class="spanVendor">
            <span>Vendedor <span class="required">*</span></span>
            </div>
            <div class="selectorsVendor">
              <div class="selectVendor">
                {{#selectVendor ad.vendor}}
                  <select id="selectType" name="vendor" class="select-field">
                    <option value="OFERTA">En Venta</option>
                    <option value="DEMANDA">Compro</option>
                {{/selectVendor}}
                  </select>
                  {{errors.vendor}}
              </div>
            <div class="selectVendor">
              <select id="selectVendor" name="vendorType" class="select-field">
                {{#selectVendorType ad.vendorType}}
                  <option value="Particular">Particular</option>
                  <option value="Profesional">Profesional</option>
                {{/selectVendorType}}
              </select>
              {{errors.vendorType}}
            </div>
            </div>
          </label>
          </div>
          <div class="priceVendor">
            <label for="field4">
              <div class="spanPrice">
                <span><b>Precio</b></span>
              </div>
                <div class="forInputPrice">
                  <input oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                  maxlength = "7" id="priceInput" type="number" name="price" value="{{ad.price}}">€
                </div>
            </label>
            {{errors.price}}
          </div>
        </div>
        <div class="stateCityForm">
        <div class="stateForm">
        <label for="field4"><span>Provincia <span class="required">*</span></span>
          <select id="selectState" name="state" class="select-field">
            {{#select ad.state }}
              <option value="">Elige Provincia</option>
              <option value="15">A Coruña</option>
              <option value="2">Albacete</option>
              <option value="3">Alicante</option>
              <option value="4">Almería</option>
              <option value="1">Álava</option>
              <option value="33">Asturias</option>
              <option value="5">Ávila</option>
              <option value="6">Badajoz</option>
              <option value="7">Baleares</option>
              <option value="8">Barcelona</option>
              <option value="9">Burgos</option>
              <option value="10">Cáceres</option>
              <option value="11">Cádiz</option>
              <option value="39">Cantabria</option>
              <option value="12">Castellón</option>
              <option value="13">Ciudad Real</option>
              <option value="14">Córdoba</option>
              <option value="16">Cuenca</option>
              <option value="51">Ceuta</option>
              <option value="20">Guipúzcoa</option>
              <option value="17">Girona</option>
              <option value="18">Granada</option>
              <option value="19">Guadalajara</option>
              <option value="21">Huelva</option>
              <option value="22">Huesca</option>
              <option value="23">Jaén</option>
              <option value="24">León</option>
              <option value="25">Lleida</option>
              <option value="27">Lugo</option>
              <option value="28">Madrid</option>
              <option value="29">Málaga</option>
              <option value="52">Melilla</option>
              <option value="30">Murcia</option>
              <option value="31">Navarra</option>
              <option value="32">Ourense</option>
              <option value="34">Palencia</option>
              <option value="35">Las Palmas</option>
              <option value="36">Pontevedra</option>
              <option value="26">La Rioja</option>
              <option value="37">Salamanca</option>
              <option value="38">Tenerife</option>
              <option value="40">Segovia</option>
              <option value="41">Sevilla</option>
              <option value="42">Soria</option>
              <option value="43">Tarragona</option>
              <option value="44">Teruel</option>
              <option value="45">Toledo</option>
              <option value="46">Valencia</option>
              <option value="47">Valladolid</option>
              <option value="48">Vizcaya</option>
              <option value="49">Zamora</option>
              <option value="50">Zaragoza</option>
            {{/select}}
          </select>
        </label>
        {{errors.state}}
        </div>
        <div class="cityForm">
          <label for="field3"><span>Localidad </span>
            <input maxlength="30" type="text" id="cityInput" class="input-field" name="city" value="{{ad.city}}"/>
          </label>
            {{errors.city}}
        </div>
        </div>
        <label for="field2"><span>Email <span class="required">*</span></span>
          <input maxlength="75" minlength="12" type="email" id="emailInput" class="input-field" name="email" value="{{#if session}}{{session.email}}{{else}}{{ad.email}}{{/if}}"/>
        </label>  
        {{errors.email}}
        <div class="namePhone">
          <div class="nameForm">
            <label for="field1"><span>Nombre <span class="required">*</span></span>
                <input maxlength="75" minlength="1" id="nameInput" type="text" class="input-field" name="name" value="{{ad.name}}" pattern="[a-zA-Z]*"/>
            </label>
              {{errors.name}}
          </div>
          <div class="phoneForm">
            <label for="field3"><span>Teléfono </span>
                <input id="phoneInput" type="number" class="input-field" name="phone" value="{{ad.phone}}"/>
            </label>
              {{errors.phone}}
          </div>
        </div>
        <article>
          <input type="file" name="image" id="files" multiple accept="image/png, image/jpeg"/>
            <output id="result">
        </article>
        <label class="finalSubmitPost">
          <input id="submitPost" type="submit" value="Publicar"/>
        </label>
    
      </fieldset>
      </div>
    </div>
  </form>
</div>
<script>

window.onload = function(){

//Check File API support
if(window.File && window.FileList && window.FileReader)
{
var filesInput = document.getElementById("files");

filesInput.addEventListener("change", function(event){

var files = event.target.files; //FileList object
var output = document.getElementById("result");

for(var i = 0; i< files.length; i++)
{
var file = files[i];

//Only pics
if(!file.type.match('image'))
continue;

var picReader = new FileReader();

picReader.addEventListener("load",function(event){

var picFile = event.target;

var div = document.createElement("div");

div.innerHTML = "<img class='thumbnail' src='" + picFile.result + "'" +
  "title='" + picFile.name + "'/>";

output.insertBefore(div,null);            

});

//Read the image
picReader.readAsDataURL(file);
}                               

});
}
else
{
console.log("Your browser does not support File API");
}
}
</script>

